webpackJsonp([1],{"/jr3":function(t,e){},"0xDb":function(t,e,s){"use strict";e.b=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(e);return null!=s?unescape(s[2]):null},e.a=function(){try{var t=navigator.userAgent,e=new MobileDetect(t),s=e.os(),n="";if("iOS"==s)s=e.os()+e.version("iPhone"),n=e.mobile();else if("AndroidOS"==s){s=e.os()+e.version("Android");var i=t.split(";"),r=a(i,"Build/");n=r>-1?i[r].substring(0,i[r].indexOf("Build/")):"未知机型"}return n+"---"+s}catch(t){return"机型获取失败（"+t+"）"}};var a=function(t,e){for(var s=0;s<t.length;s++)if(t[s].indexOf(e)>0)return s;return-1}},"32zM":function(t,e){},CKRP:function(t,e){},EmoT:function(t,e){},Q0Ca:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeAgo=function(t){var e=Date.now()/1e3-Number(t);return e<3600?i(~~(e/60)," minute"):e<86400?i(~~(e/3600)," hour"):i(~~(e/86400)," day")},e.parseTime=r,e.formatTime=function(t,e){t=1e3*+t;var s=new Date(t),a=(Date.now()-s)/1e3;if(a<30)return"刚刚";if(a<3600)return Math.ceil(a/60)+"分钟前";if(a<86400)return Math.ceil(a/3600)+"小时前";if(a<172800)return"1天前";return e?r(t,e):s.getMonth()+1+"月"+s.getDate()+"日"+s.getHours()+"时"+s.getMinutes()+"分"},e.formatAddress=function(t){if(!t)return"";var e="";return t.split(",").forEach(function(t){e+=CodeToText[t]}),e},e.nFormatter=function(t,e){for(var s=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=0;a<s.length;a++)if(t>=s[a].value)return(t/s[a].value+.1).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+s[a].symbol;return t.toString()},e.html2Text=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText},e.toThousandslsFilter=function(t){return(+t||0).toString().replace(/^-?\d+/g,function(t){return t.replace(/(?=(?!\b)(\d{3})+$)/g,",")})},e.getSpace=function(t){return"margin-left:"+10*t+"px"},e.getTypeName=function(t){var e=void 0;1===t?e="随机金额红包":2===t?e="固定金额红包":3===t&&(e="优惠券");return e},e.getOrderStatus=function(t,e){var s=void 0;s=1===t?0===e?"等待付款":1===e?"买家未付款":"danger":2===t?2===e?"info":"已关闭":3===t?0===e?"等待发货":1===e?"买家已付款":"warning":4===t?0===e?"已发货":1===e?"等待买家收货":"":2===e?"success":"交易成功";return s},e.getNoReadCount=function(t){var e=0;return t.forEach(function(t){t.readAlready||e++}),e},e.getMsgByType=function(t,e){},e.getActivityStatus=function(t,e){var s=void 0;switch(t){case 1:s=e?"danger":"停用";break;case 2:s=e?"info":"已结束";break;case 3:s=e?"warning":"未开始";break;default:s=e?"success":"正常"}return s};var a=s("pFYg"),n=s.n(a);function i(t,e){return 1===t?t+e:t+e+"s"}function r(t,e){if(0===arguments.length)return null;10===(t+"").length&&(t=1e3*+t);var s=e||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0,i={y:(a="object"===(void 0===t?"undefined":n()(t))?t:new Date(parseInt(t))).getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return s.replace(/{(y|m|d|h|i|s|a)+}/g,function(t,e){var s=i[e];return"a"===e?["一","二","三","四","五","六","日"][s-1]:(t.length>0&&s<10&&(s="0"+s),s||0)})}},U67u:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("fZjL"),n=s.n(a),i=s("7+uW"),r=s("gyMJ"),o=s("0xDb"),c=s("pWLV"),l={props:{codeInfo:{type:Object}},data:function(){return{list:[],showlaoding:!0,total:0,pages:0,listQuery:{current:1,size:5,condition:{activity:this.codeInfo.activity}},bestLucky:""}},computed:{isLast:function(){return this.pages>this.listQuery.current}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.showlaoding=!0,console.log(this.listQuery),Object(r.a)(this.listQuery).then(function(e){var s=e.data;0===s.code&&"success"===s.msg&&(t.list=t.list.concat(s.datas.records),t.pages=s.datas.pages,t.total=s.datas.total,t.showlaoding=!1)})},getMore:function(){this.listQuery.current+=1,this.getList()}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"redPacket"},[s("div",{staticClass:"redPacket-head"},[s("img",{staticClass:"avatar",attrs:{src:t.codeInfo.vo.userPhoto}})]),t._v(" "),s("div",{staticClass:"redPacket-center"},[s("span",{staticClass:"centent-top"},[t._v(t._s(t.codeInfo.vo.userCompanyName)+"的红包")]),t._v(" "),s("span",{staticClass:"centent-wishWord"},[t._v("恭喜发财，大吉大利")]),t._v(" "),s("div",{staticClass:"centent-bottom"},[s("span",{staticClass:"money"},[t._v(t._s(t.codeInfo.scanResult/100))]),t._v(" "),s("span",[t._v("元")])]),t._v(" "),s("div",{staticClass:"getSuccess"},[t._v("已存入零钱")])]),t._v(" "),s("div",{staticClass:"redPacket-billboard"},[s("div",{staticClass:"redPacket-billboard-packetNum"},[s("span",{staticClass:"title"},[t._v("已领取"+t._s(t.total)+"/"+t._s(t.codeInfo.vo.qrCount)+"个")])]),t._v(" "),t._l(t.list,function(e){return s("div",{staticClass:"redPacket-billboard-item"},[s("div",{staticClass:"user"},[s("img",{staticClass:"avatar",attrs:{src:e.vo.customerPhoto}}),t._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("div",[t._v(t._s(e.vo.customerName))]),t._v(" "),s("div",[t._v(t._s(t._f("parseTime")(e.updateDate,"{m}-{d} {h}:{i}:{s}")))])])]),t._v(" "),s("div",{staticClass:"money"},[s("span",[t._v(t._s(e.scanResult/100)+"元")])])])}),t._v(" "),s("div",{staticClass:"redPacket-billboard-bottom"},[t.isLast?s("span",{on:{click:t.getMore}},[t._v("查看更多")]):t._e()])],2)])},staticRenderFns:[]};var u=s("VU/8")(l,d,!1,function(t){s("/jr3")},"data-v-2129df25",null).exports,v={props:{codeInfo:{type:Object},opened:{type:Boolean},openId:{type:String}},data:function(){return{list:[],showlaoding:!0,total:0,pages:0,listQuery:{current:1,size:20,condition:{activity:this.codeInfo.activity}}}},methods:{click:function(){location.href="share.html?openId="+this.openId+"&adTitle="+encodeURI(encodeURI(this.codeInfo.vo.adTitle))+"&adImg="+encodeURIComponent(this.codeInfo.vo.adImg)+"&activityId="+this.codeInfo.activity+"&qrCodeId="+this.codeInfo.id},getList:function(){var t=this;this.showlaoding=!0,console.log(this.listQuery),getActivityScaned(this.listQuery).then(function(e){var s=e.data;0===s.code&&"success"===s.msg&&(t.list=t.list.concat(s.datas.records),t.pages=s.datas.pages,t.total=s.datas.total,t.showlaoding=!1)})},getMore:function(){this.listQuery.current+=1,this.getList()}},computed:{isLast:function(){return this.pages>this.listQuery.current}},mounted:function(){this.getList()}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"redPacket",class:{isOpen:t.opened,isShare:t.codeInfo.shareFlag&&t.opened}},[s("div",{staticClass:"redPacket-head"},[s("img",{staticClass:"avatar",attrs:{src:t.codeInfo.vo.userPhoto}}),t._v(" "),t.opened?t._e():[s("span",{staticClass:"fs4"},[t._v(t._s(t.codeInfo.vo.userCompanyName))]),t._v(" "),s("span",{staticClass:"fs35"},[t._v("发了一个红包，打开看看")]),t._v(" "),s("span",{staticClass:"fs5"},[t._v("恭喜发财，大吉大利")])]],2),t._v(" "),t.opened?t._e():s("div",{staticClass:"redPacket-openBtn"},[s("span",[t._v("開")])]),t._v(" "),t.opened?s("div",{staticClass:"redPacket-center"},[s("span",{staticClass:"centent-top"},[t._v(t._s(t.codeInfo.vo.userCompanyName)+"的红包")]),t._v(" "),s("span",{staticClass:"centent-wishWord"},[t._v("恭喜发财，大吉大利")]),t._v(" "),s("div",{staticClass:"centent-bottom"},[s("span",{staticClass:"money"},[t._v(t._s(t.codeInfo.scanResult/100))]),t._v(" "),s("span",[t._v("元")])]),t._v(" "),t.codeInfo.shareFlag?s("div",{staticClass:"getSuccess"},[t._v("已存入零钱")]):s("div",{staticClass:"button",on:{click:t.click}},[t._v("点击存入零钱")])]):t._e(),t._v(" "),t.opened&&!t.codeInfo.shareFlag?s("div",{staticClass:"redPacket-footer"},[t._m(0)]):t.opened&&t.codeInfo.shareFlag?s("div",{staticClass:"redPacket-billboard"},[s("div",{staticClass:"redPacket-billboard-packetNum"},[s("span",{staticClass:"title"},[t._v("已领取"+t._s(t.total)+"/"+t._s(t.codeInfo.vo.qrCount)+"个")])]),t._v(" "),t._l(t.list,function(e){return s("div",{staticClass:"redPacket-billboard-item"},[s("div",{staticClass:"user"},[s("img",{staticClass:"avatar",attrs:{src:e.vo.customerPhoto}}),t._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("div",[t._v(t._s(e.vo.customerName))]),t._v(" "),s("div",[t._v(t._s(t._f("parseTime")(e.updateDate,"{m}-{d} {h}:{i}:{s}")))])])]),t._v(" "),s("div",{staticClass:"money"},[s("span",[t._v(t._s(e.scanResult/100)+"元")])])])}),t._v(" "),s("div",{staticClass:"redPacket-billboard-bottom"},[t.isLast?s("span",{on:{click:t.getMore}},[t._v("查看更多")]):t._e()])],2):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"redPacket-footer-content"},[s("span",{staticStyle:{"font-weight":"bold"}},[t._v("*活动规则：")]),t._v(" "),s("span",{staticStyle:{"margin-top":"0.4rem"}},[t._v("1.前往线下站点参与活动，刮开二维码微信扫一扫；")]),t._v(" "),s("span",[t._v("2.按页面提示领奖，完成任务后现金自动转入零钱；")]),t._v(" "),s("span",{staticStyle:{"margin-top":"0.4rem","font-weight":"bold"}},[t._v("*温馨提示：")]),t._v(" "),s("span",[t._v("参与人数众多，零钱到账可能延迟，请耐心等待；")]),t._v(" "),s("span",{staticStyle:{"margin-top":"0.4rem","font-weight":"bold"}},[t._v("*本活动最终解释权归主办方所有*")])])}]};var p=s("VU/8")(v,f,!1,function(t){s("32zM")},"data-v-e042a1d6",null).exports,m={props:{msg:{type:String}},computed:{detail:function(){var t=void 0;switch(this.msg){case"others_scaned":t="红包已被他人领取";break;case"not_start":t="活动未开始";break;case"over_limit":t="商家说您不能再扫啦!";break;case"customer_lock":t="请先领取您已拆开的红包!";break;case"error_code":t="本次扫描已过期，请重新扫描！";break;case"pay_erro":t="支付失败!请确认微信是否实名认证";break;case"activity_stop":t="休息一下，等待活动再次开启！";break;case"activity_finish":t="您来晚了，活动已经结束！";break;case"net_erro":t="网络错误，商家正在玩命抢修中！";break;default:t="发生错误，请重新扫描二维码"}return t}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"erro"},[e("span",[this._v(this._s(this.detail))]),this._v(" "),e("img",{attrs:{src:s("V2X1")}})])},staticRenderFns:[]};var g=s("VU/8")(m,h,!1,function(t){s("CKRP")},null,null).exports,_={components:{LoaderRainbow:c.b,Billboard:u,Success:p,ScanErro:g},created:function(){var t=Object(o.b)("code"),e=Object(o.b)("state"),s=Object(o.b)("openId"),a=Object(o.b)("shareErro");a?this.msg=a:s?this.getScanRes(e,s):this.init(t,e)},mounted:function(){this.hiddenWxMenu()},data:function(){return{img:{background:"url("+s("WOE0")+") no-repeat","background-size":"100% 100%","-moz-background-size":"100% 100%","-webkit-background-size":"100% 100%","-o-background-size":"100% 100%"},codeInfo:null,openId:"",msg:"",opened:!1,loading:!1}},watch:{codeInfo:function(t){var e=this;t.scanResult>0&&setTimeout(function(){e.opened=!0},1200)}},methods:{init:function(t,e){var s=this;this.loading=!0,Object(r.c)(t).then(function(t){var a=t.data;0===a.code&&"success"===a.msg?(s.openId=a.data,s.getScanRes(e,a.data)):(s.msg=a.msg,s.loading=!1)}).catch(function(t){s.msg="net_erro",s.loading=!1})},getScanRes:function(t,e){var s=this;this.loading=!0,Object(r.d)(t,e,Object(o.a)()).then(function(t){s.codeInfo=t.data.data,s.msg=t.data.msg,s.loading=!1}).catch(function(t){s.msg="net_erro",s.loading=!1})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"result",style:t.img},[t.loading?s("LoaderRainbow"):["success"===t.msg?s("Success",{attrs:{opened:t.opened,codeInfo:t.codeInfo,openId:t.openId}}):"already_scaned"===t.msg?s("billboard",{attrs:{codeInfo:t.codeInfo}}):s("scan-erro",{attrs:{msg:t.msg}})]],2)},staticRenderFns:[]};var C={name:"app",components:{RedPacket:s("VU/8")(_,b,!1,function(t){s("EmoT")},null,null).exports}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("red-packet")],1)},staticRenderFns:[]};var I=s("VU/8")(C,y,!1,function(t){s("l+O3")},null,null).exports,k=s("v5o6"),w=s.n(k),S=s("Q0Ca"),j=(s("sVYa"),s("fxnj")),O=s.n(j);s("j1ja");s("hKoQ").polyfill(),i.a.config.productionTip=!1,i.a.prototype.hiddenWxMenu=function(){Object(r.b)(document.location.href).then(function(t){var e=t.data.data;O.a.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:[,"hideMenuItems"]})}),O.a.ready(function(){O.a.hideMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:qq","menuItem:share:weiboApp","menuItem:share:email","menuItem:favorite","menuItem:openWithSafari","menuItem:share:QZone","menuItem:openWithQQBrowser","menuItem:originPage","menuItem:copyUrl","menuItem:readMode","menuItem:refresh","menuItem:share:timeline"]})})},w.a.attach(document.body),n()(S).forEach(function(t){i.a.filter(t,S[t])}),new i.a({el:"#app",template:"<App/>",components:{App:I}})},V2X1:function(t,e,s){t.exports=s.p+"static/img/erro.081bcd8.png"},WOE0:function(t,e,s){t.exports=s.p+"static/img/bk.b0c1fc8.png"},gyMJ:function(t,e,s){"use strict";e.c=function(t){return Object(a.a)({url:"/mobile/getOpenIdByWxCode",method:"post",params:{code:t}})},e.d=function(t,e,s){return Object(a.a)({url:"/mobile/scanQrCode",method:"post",params:{qrCodeId:t,openId:e,deviceInfo:s}})},e.b=function(t){return Object(a.a)({url:"/mobile/getJsapiSignature",method:"post",params:{url:t}})},e.e=function(t,e){return Object(a.a)({url:"/mobile/shareResult",method:"post",data:{qrCodeId:e,openId:t,shareResult:0}})},e.a=function(t){return Object(a.a)({url:"/mobile/getActivityScaned",method:"post",data:t})};var a=s("vLgD")},"l+O3":function(t,e){},pWLV:function(t,e,s){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("div",{staticClass:"loader-inner"},[e("div",{staticClass:"loader-line-wrap"},[e("div",{staticClass:"loader-line"})]),this._v(" "),e("div",{staticClass:"loader-line-wrap"},[e("div",{staticClass:"loader-line"})]),this._v(" "),e("div",{staticClass:"loader-line-wrap"},[e("div",{staticClass:"loader-line"})]),this._v(" "),e("div",{staticClass:"loader-line-wrap"},[e("div",{staticClass:"loader-line"})]),this._v(" "),e("div",{staticClass:"loader-line-wrap"},[e("div",{staticClass:"loader-line"})])])])}]};var n=s("VU/8")(null,a,!1,function(t){s("vpnl")},"data-v-02ff9ef5",null).exports,i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"spinner-container container1"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})]),t._v(" "),s("div",{staticClass:"spinner-container container2"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})]),t._v(" "),s("div",{staticClass:"spinner-container container3"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})])])}]};var r=s("VU/8")(null,i,!1,function(t){s("qTnb")},null,null).exports;s.d(e,"b",function(){return n}),s.d(e,"a",function(){return r})},qTnb:function(t,e){},vLgD:function(t,e,s){"use strict";var a=s("//Fk"),n=s.n(a),i=s("mtWM"),r=s.n(i).a.create({baseURL:"https://www.ijnkj.com/bkl/api",timeout:15e5});r.interceptors.request.use(function(t){return t},function(t){n.a.reject(t)}),e.a=r},vpnl:function(t,e){}},["U67u"]);
//# sourceMappingURL=index.665951b9d9eebe390f28.js.map